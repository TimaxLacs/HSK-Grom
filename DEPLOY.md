# Развёртывание сайта ЧСК Гром на сервере

Гайд по запуску сайта на своём сервере без домена, на порту **4321**.

---

## 1. Подготовка на сервере

Клонируй репозиторий (или обнови, если уже скачан):

```bash
git clone https://github.com/YOUR_USERNAME/HSK-Grom.git
cd HSK-Grom
```

Если репозиторий уже есть:

```bash
cd HSK-Grom
git pull
```

---

## 2. Сборка проекта

Установи зависимости и собери статику:

```bash
npm install
npm run build
```

Папка `dist` — это готовый сайт для раздачи.

---

## 3. Запуск через serve

Сайт раздаётся утилитой **serve** на порту **4321**.

### Установка serve (если ещё нет)

```bash
sudo npm install -g serve
```

### Пробный запуск

```bash
serve -s dist -l 4321
```

Сайт будет доступен по адресу: **http://IP_СЕРВЕРА:4321**

---

## 4. Постоянный запуск через PM2

Чтобы сайт работал в фоне и перезапускался после перезагрузки сервера.

### Установка PM2 (если ещё нет)

```bash
sudo npm install -g pm2
```

### Запуск

```bash
pm2 start serve --name "hsk-grom" -- -s dist -l 4321
```

- `--name "hsk-grom"` — имя процесса
- `-s dist` — раздача папки `dist` как SPA
- `-l 4321` — порт **4321**

### Сохранение и автозапуск после перезагрузки

```bash
pm2 save
pm2 startup
```

Выполни команду, которую выведет `pm2 startup` (обычно с `sudo`).

---

## Полезные команды PM2

| Команда | Описание |
|--------|----------|
| `pm2 list` | Список процессов |
| `pm2 logs hsk-grom` | Логи |
| `pm2 restart hsk-grom` | Перезапуск |
| `pm2 stop hsk-grom` | Остановка |
| `pm2 delete hsk-grom` | Удаление из PM2 |

---

## Обновление сайта

После изменений в коде:

```bash
cd HSK-Grom
git pull
npm install
npm run build
pm2 restart hsk-grom
```

Итоговый адрес сайта: **http://IP_СЕРВЕРА:4321**
